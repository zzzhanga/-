webpackJsonp([8],{"0GYf":function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=i("mtWM"),a=i.n(e),n={name:"Listener",data:function(){return{styObj:{left:"0"},player:"&#xe648;",listenerItem:[],items:[],show:!1,ratestatu:!1,cTime:null,dTime:null,atten:"关注"}},mounted:function(){this.getFindInfo()},methods:{goBack:function(){this.$router.back()},getFindInfo:function(){a.a.get("/static/mock/listener.json").then(this.getFindInfoSucc)},getFindInfoSucc:function(t){if((t=t.data).ret&&t.data){var s=t.data;this.listenerItem=s.listenerItem,this.items=s.items}},attention:function(){if("已关注"==this.atten){var t=confirm("取消关注后将不再受到该用户的动态信息");this.atten=t?"关注":"已关注"}else this.atten="已关注"},playPause:function(t){this.$refs.voice.paused?(this.$refs.voice.play(),this.player="&#xe6ae;"):(this.$refs.voice.pause(),this.player="&#xe648;")},rewind:function(){this.$refs.voice.currentTime=this.$refs.voice.currentTime-5},forward:function(){this.$refs.voice.currentTime=this.$refs.voice.currentTime+5},mission:function(t){this.$refs.line.style.width=this.$refs.voice.currentTime/this.$refs.voice.duration*100+"%",this.styObj.left=this.$refs.voice.currentTime/this.$refs.voice.duration*100+"%",this.s=String(Math.floor(t.target.currentTime)%60).padStart(2,0),this.m=String(Math.floor(t.target.currentTime%3600/60)).padStart(2,0),this.cTime=this.m+":"+this.s,this.se=String(Math.floor(t.target.duration-t.target.currentTime)%60).padStart(2,0),this.me=String(Math.floor(t.target.duration%3600/60-t.target.currentTime%3600/60)).padStart(2,0),this.dTime=this.me+":"+this.se},drag:function(t){this.$refs.voice.currentTime=this.$refs.voice.duration*(t.clientX-(this.$refs.line.offsetLeft+this.$refs.outerNode.offsetLeft))/this.$refs.progress.offsetWidth,this.$refs.line.style.width=(t.clientX-(this.$refs.line.offsetLeft+this.$refs.outerNode.offsetLeft))/this.$refs.progress.offsetWidth*100+"%"},rate:function(){this.ratestatu=!this.ratestatu},close:function(){this.ratestatu=!1},one:function(){this.$refs.voice.playbackRate=1},two:function(){this.$refs.voice.playbackRate=1.25},three:function(){this.$refs.voice.playbackRate=1.5},four:function(){this.$refs.voice.playbackRate=2},timing:function(){this.show=!this.show},close2:function(){this.show=!1},fifteen:function(){var t=this;setTimeout(function(){t.$refs.voice.pause(),t.playStatu=!1},2e3)}}},r={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"listener-box",on:{click:function(s){t.close(),t.close2()}}},[i("div",{staticClass:"head"},[i("span",{staticClass:"iconfont",on:{click:t.goBack}},[t._v("")]),t._v(" "),i("span",{staticClass:"iconfont f4"},[t._v("")])]),t._v(" "),i("div",{ref:"outerNode",staticClass:"listener"},[i("nav",{staticClass:"listener-info"},[i("div",{staticClass:"book-name"},[t._v(t._s(t.listenerItem.name)+" "),i("span",{staticClass:"iconfont",on:{click:function(s){return s.stopPropagation(),t.rate(s)}}},[t._v("")])]),t._v(" "),i("div",{staticClass:"listener-title"},[t._v(t._s(t.listenerItem.title))]),t._v(" "),i("div",{staticClass:"linenode"},[i("div",{ref:"progress",staticClass:"progressnode",on:{click:t.drag}},[i("div",{ref:"line",staticClass:"trueLine"}),t._v(" "),i("span",{staticClass:"circle",style:t.styObj})]),t._v(" "),i("div",{staticClass:"duration"},[i("span",{staticClass:"start"},[t._v(t._s(t.cTime))]),t._v(" "),i("span",{staticClass:"end"},[t._v(t._s(t.dTime))])])]),t._v(" "),i("div",{staticClass:"menu"},[i("span",{staticClass:"iconfont"},[t._v("")]),t._v(" "),i("span",{staticClass:"iconfont",on:{click:t.rewind}},[t._v("")]),t._v(" "),i("span",{staticClass:"iconfont",domProps:{innerHTML:t._s(this.player)},on:{click:t.playPause}},[t._v("")]),t._v(" "),i("span",{staticClass:"iconfont",on:{click:t.forward}},[t._v("")]),t._v(" "),i("span",{staticClass:"iconfont",on:{click:function(s){return s.stopPropagation(),t.timing(s)}}},[t._v("")])])])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.ratestatu,expression:"ratestatu"}],staticClass:"rate-setting"},[i("p",[t._v("设置")]),t._v(" "),i("ul",[i("li",{on:{click:t.one}},[t._v("1x")]),t._v(" "),i("li",{on:{click:t.two}},[t._v(" 1.25x")]),t._v(" "),i("li",{on:{click:t.three}},[t._v("1.5x")]),t._v(" "),i("li",{on:{click:t.four}},[t._v("2x")])])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"timer"},[i("p",[t._v("定时关闭")]),t._v(" "),i("ul",[i("li",[t._v("听完当前章节")]),t._v(" "),i("li",{on:{click:function(s){return s.stopPropagation(),t.fifteen(s)}}},[t._v("2秒钟后")]),t._v(" "),i("li",[t._v("30分钟后")]),t._v(" "),i("li",[t._v("60分钟后")])])]),t._v(" "),i("div",{staticClass:"avator-info"},[i("div",{staticClass:"avator"},[i("img",{attrs:{src:t.listenerItem.autorurl}}),t._v(" "),i("span",[t._v(t._s(t.listenerItem.autor))])]),t._v(" "),i("div",[i("span",{staticClass:"attention",on:{click:t.attention}},[t._v(t._s(this.atten))])])]),t._v(" "),i("audio",{ref:"voice",attrs:{src:t.listenerItem.url},on:{timeupdate:t.mission}}),t._v(" "),i("div",{staticClass:"publish"},[i("span",{staticClass:"publish-time"},[t._v(t._s(t.listenerItem.publishtime))]),t._v(" "),i("span",{staticClass:"listen-in"},[t._v(t._s(t.listenerItem.listenin))])]),t._v(" "),i("div",{staticClass:"discuss"},[i("ul",t._l(t.items,function(s){return i("li",{key:s.id,staticClass:"discuss-item border-top"},[i("div",{staticClass:"portrait"},[i("img",{attrs:{src:s.portrait,alt:"刘俊峰"}})]),t._v(" "),i("div",{staticClass:"discuss-infobox"},[i("p",{staticClass:"discuss-info"},[i("span",{staticClass:"discuss-name"},[t._v(t._s(s.discussname))]),t._v(" "),i("span",{staticClass:"submit-time"},[t._v(t._s(s.submittime))])]),t._v(" "),i("p",{staticClass:"speak"},[t._v("\n                            "+t._s(s.speak)+"\n                        ")])])])}),0)])])},staticRenderFns:[]};var o=i("VU/8")(n,r,!1,function(t){i("Ato+")},"data-v-4521a6b0",null);s.default=o.exports},"Ato+":function(t,s){}});
//# sourceMappingURL=8.cd1c498420878a5dbbc8.js.map